{
    "contents" : "rm(list=ls())\nsource(\"code/source/local_ATE_functions.r\")\nlibrary(twang)\ndata(lalonde)\n\n# fit the PS model\nps.lalonde <- ps(treat ~ age + educ + black + hispan + nodegree +\nmarried + re74 + re75,\ndata = lalonde, stop.method=c(\"ks.max\"),\nestimand = \"ATE\",verbose=FALSE)\n\n# save the ps\nlalonde$ps = ps.lalonde$ps[,1]\n\n# fit LoWePS-QR\nh=dpill(x=lalonde$ps, y=lalonde$re78)\nout <- my.localQ(y=lalonde$re78,a=lalonde$treat,ps=lalonde$ps,h=0.1)\n\n# generate plots!\n#heatmap.localQ(fit=out , Ytype=\"quantile\" , pch=16 , xlab=\"PS\")\n#plot.Qmean(fit=out , add=F , col='blue' , xlab=\"PS\" , ylab=\"Effect\")\n#plot.Qavg(fit=out , Ytype=\"quantile\" , type='l' , col='blue' , xlab=\"quantile of Y(0)\" , ylab=\"Effect\")\n\n\n\n\n\n\n\n\n\n",
    "created" : 1440780408630.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1815173781",
    "id" : "E442E19A",
    "lastKnownWriteTime" : 1441390743,
    "path" : "~/Documents/Research/Methods/Causal Inference/localPS/code/examples/lalonde.r",
    "project_path" : "code/examples/lalonde.r",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}